<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head profile="http://dublincore.org/documents/2008/08/04/dc-html/"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>User Impact of Transport Metadata</title><link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"><style type="text/css">
    body {
      padding-top: 80px;
      padding-bottom: 80px;
      position: relative;
    }
    .table.header th, .table.header td { 
      border-top: none; 
      padding: 0;
    }
    .nav-sublist {
      padding-left: 20px;
      padding-right: 10px;
      font-size: 90%;
    }
    .container .nav > li > a {
      padding-top: 10px;
      display: inline-block;
    }
  </style><link rel="Contents" href="#rfc.toc"><link rel="Author" href="#rfc.authors"><link rel="Copyright" href="#rfc.copyrightnotice"><link rel="Chapter" title="1 Introduction" href="#rfc.section.1"><link rel="Chapter" title="2 Potential Impact" href="#rfc.section.2"><link rel="Chapter" title="3 Possible Mitigations" href="#rfc.section.3"><link rel="Chapter" title="4 Security Considerations" href="#rfc.section.4"><link rel="Chapter" href="#rfc.section.5" title="5 Informative References"><meta name="generator" content="http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.662, 2014/07/19 09:19:17, XSLT vendor: SAXON 9.1.0.8 from Saxonica http://www.saxonica.com/"><meta name="keywords" content="Internet-Draft"><link rel="schema.dct" href="http://purl.org/dc/terms/"><meta name="dct.creator" content="Nottingham, M."><meta name="dct.creator" content="Hall, J."><meta name="dct.creator" content="ten Oever, N."><meta name="dct.creator" content="Seltzer, W."><meta name="dct.identifier" content="urn:ietf:id:draft-nottingham-transport-metadata-impact-00"><meta name="dct.issued" scheme="ISO8601" content="2015-08-24"><meta name="dct.abstract" content="This draft attempts to identify potential impacts associated with new, extensible metadata facilities in Internet protocols, and suggests possible mitigations. Its goal is to have the discussion of these tradeoffs up-front, rather than after the development of such mechanisms."><meta name="description" content="This draft attempts to identify potential impacts associated with new, extensible metadata facilities in Internet protocols, and suggests possible mitigations. Its goal is to have the discussion of these tradeoffs up-front, rather than after the development of such mechanisms."></head><body data-spy="scroll" data-target="#rfc.toc"><div class="container" id="top"><div class="row"><div class="col-md-4 col-md-push-8 affix hidden-sm hidden-xs" role="navigation"><div class="navbar"><div class="navbar-brand"><a href="#top">Internet-Draft</a></div><br clear="all"><div class=""><div id="rfc.toc"><ul class="nav"><li><a href="#rfc.section.1">1.</a> <a href="#introduction">Introduction</a></li><li><a href="#rfc.section.2">2.</a> <a href="#potential-impact" data-toggle="collapse" data-target="#toc.potential-impact">Potential Impact</a><div class="collapse" id="toc.potential-impact"><ul class="nav-sublist list-unstyled"><li><a href="#rfc.section.2.1">2.1</a> <a href="#security-and-privacy">Security and Privacy</a></li><li><a href="#rfc.section.2.2">2.2</a> <a href="#network-neutrality">Network Neutrality</a></li></ul></div></li><li><a href="#rfc.section.3">3.</a> <a href="#possible-mitigations" data-toggle="collapse" data-target="#toc.possible-mitigations">Possible Mitigations</a><div class="collapse" id="toc.possible-mitigations"><ul class="nav-sublist list-unstyled"><li><a href="#rfc.section.3.1">3.1</a> <a href="#constrained-vocabulary">Constrained Vocabulary</a></li><li><a href="#rfc.section.3.2">3.2</a> <a href="#transparency">Transparency</a></li></ul></div></li><li><a href="#rfc.section.4">4.</a> <a href="#security-considerations">Security Considerations</a></li><li><a href="#rfc.section.5">5.</a> <a href="#rfc.references" data-toggle="collapse" data-target="#toc.references">Informative References</a></li><li><a href="#rfc.authors">Authors' Addresses</a></li></ul></div></div></div></div><div class="col-md-8 main" role="main"><table class="table table-condensed header" id="rfc.headerblock"><tbody><tr><td class="text-left">Network Working Group</td><td class="text-right">M. Nottingham</td></tr><tr><td class="text-left">Internet-Draft</td><td class="text-right">J. Hall</td></tr><tr><td class="text-left"><strong>Intended status: </strong>Informational</td><td class="text-right">CDT</td></tr><tr><td class="text-left"><strong>Expires: </strong>February 25, 2016</td><td class="text-right">N. ten Oever</td></tr><tr><td class="text-left"></td><td class="text-right">Article19</td></tr><tr><td class="text-left"></td><td class="text-right">W. Seltzer</td></tr><tr><td class="text-left"></td><td class="text-right">W3C</td></tr><tr><td class="text-left"></td><td class="text-right">August 24, 2015</td></tr></tbody></table><div class="page-header"><h1 class="title" id="rfc.title">User Impact of Transport Metadata<br><small>draft-nottingham-transport-metadata-impact-00</small></h1></div><h1 id="rfc.abstract">Abstract</h1><div class="lead"><p>This draft attempts to identify potential impacts associated with new, extensible metadata facilities in Internet protocols, and suggests possible mitigations. Its goal is to have the discussion of these tradeoffs up-front, rather than after the development of such mechanisms.</p></div><div id="rfc.status"><h1>Status of this Memo</h1><p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p><p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF). Note that other groups may also distribute working documents as Internet-Drafts. The list of current Internet-Drafts is at <a href="http://datatracker.ietf.org/drafts/current/">http://datatracker.ietf.org/drafts/current/</a>.</p><p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time. It is inappropriate to use Internet-Drafts as reference material or to cite them other than as “work in progress”.</p><p>This Internet-Draft will expire on February 25, 2016.</p></div><div id="rfc.copyrightnotice"><h1>Copyright Notice</h1><p>Copyright © 2015 IETF Trust and the persons identified as the document authors. All rights reserved.</p><p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p></div><div id="introduction"><h1 id="rfc.section.1" class="np">1.&nbsp;Introduction</h1><p id="rfc.section.1.p.1">Recently, there has been an increasing amount of discussion in the IETF about adorning protocol flows with metadata about the network’s state for consumption by applications, as well as that of the application in order to inform decisions in the network. For examples, see <a href="#I-D.nottingham-gin"><cite title="Granular Information about Networks">[I-D.nottingham-gin]</cite></a>, <a href="#I-D.sprecher-mobile-tg-exposure-req-arch"><cite title="Requirements and reference architecture for Mobile Throughput Guidance Exposure">[I-D.sprecher-mobile-tg-exposure-req-arch]</cite></a> and <a href="#I-D.hildebrand-spud-prototype"><cite title="Substrate Protocol for User Datagrams (SPUD) Prototype">[I-D.hildebrand-spud-prototype]</cite></a>.</p><p id="rfc.section.1.p.2">These discussions are being at least partially motivated by the increasing use of encryption, both in deployment (thanks to the Snowden revelations) and standards (thanks in some part to <a href="#RFC7258"><cite title="Pervasive Monitoring Is an Attack">[RFC7258]</cite></a>, <a href="#IAB-confidentiality"><cite title="IAB Statement on Internet Confidentiality">[IAB-confidentiality]</cite></a>, and <a href="#TAG-securing-web"><cite title="Securing the Web">[TAG-securing-web]</cite></a>); while it’s becoming widely accepted that networks don’t have legitimate need to access the content of flows in most cases, they still wish to meet certain use cases that require more information.</p><p id="rfc.section.1.p.3">For example, networks may wish to communicate their state to applications, so that link limitations and transient problems can be accounted for in applications, by doing things like degrading (or improving) video streaming quality.</p><p id="rfc.section.1.p.4">Applications also need to give enough information to networks to enable proper function; e.g., packets in UDP flows need to be associated to be able to cleanly transit NAT and firewalls. See <a href="#I-D.trammell-stackevo-newtea"><cite title="Thoughts a New Transport Encapsulation Architecture">[I-D.trammell-stackevo-newtea]</cite></a> and <a href="#I-D.hardie-spud-use-cases"><cite title="Use Cases for SPUD">[I-D.hardie-spud-use-cases]</cite></a> for more discussion.</p><p id="rfc.section.1.p.5">At the same time, it has been widely noted that “metadata” in various forms can be profoundly sensitive information, particularly when aggregated into large sets over extensive periods of time.</p><p id="rfc.section.1.p.6">Indeed, much of the effort in combatting pervasive monitoring (as per <a href="#RFC7258"><cite title="Pervasive Monitoring Is an Attack">[RFC7258]</cite></a>) has focused on minimizing metadata in existing, known protocols (such as TLS and HTTP).</p><p id="rfc.section.1.p.7">Any new metadata facility, then – whether it be introduced to an existing protocol, or as part of a new one – needs to be carefully scrutinized and narrowly tailored to conservatively emit metadata. Of particular concern is an observed trend towards arbitrarily extensible metadata.</p><p id="rfc.section.1.p.8">This draft attempts to identify potential impacts associated with new metadata facilities in Internet protocols, and suggest possible mitigations. Its goal is to initiate a discussion of these tradeoffs up-front, rather than waiting until after the development of such mechanisms.</p><p id="rfc.section.1.p.9">Adding metadata to protocols is not an inherent harm – i.e., there are some legitimate uses of metadata, particularly if it eases the adoption of encrypted protocols or aligns well with both the interests of users and service or network operations, e.g., traffic management on mobile networks. However, the balance between the interests of constituents like end users, content providers and network operators needs to be carefully considered.</p></div><div id="potential-impact"><h1 id="rfc.section.2">2.&nbsp;Potential Impact</h1><div id="security-and-privacy"><h2 id="rfc.section.2.1">2.1&nbsp;Security and Privacy</h2><p id="rfc.section.2.1.p.1">It’s been established <a href="#Injection"><cite title="The Rise of Mobile Tracking Headers: How Telcos Around the World Are Threatening Your Privacy">[Injection]</cite></a> that many network operators inject HTTP headers into requests, in order to identify their customers using a unique identifier, thereby allowing “third-party advertisers and websites to assemble a deep, permanent profile of visitors’ web browsing habits without their consent.” <a href="#X-UIDH"><cite title="Verizon Injecting Perma-Cookies to Track Mobile Customers, Bypassing Privacy Controls">[X-UIDH]</cite></a></p><p id="rfc.section.2.1.p.2">In doing so, these networks are taking advantage of a relatively unconstrained extension point in the HTTP protocol – header fields. While HTTP header fields do require registration <a href="#RFC3864"><cite title="Registration Procedures for Message Header Fields">[RFC3864]</cite></a>, the requirements are lax, and fields are often used without registration, because there is no technical enforcement of the requirements, due to HTTP’s policy of ignoring unrecognized header fields <a href="#RFC7230"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[RFC7230]</cite></a>.</p><p id="rfc.section.2.1.p.3">HTTP header fields can be made a protected end-to-end facility by using HTTPS, avoiding the risk of such injection. A new transport metadata facility that explicitly allows any node on the path to add arbitrary metadata cannot.</p><p id="rfc.section.2.1.p.4">Well-intentioned metadata can also put the user at substantial risk without careful consideration. For example, if a Web browser “labels” flows based upon what they contain (e.g., “video”, “image”, “interactive”), an observer on the network path – including pervasive ones – can more effectively perform traffic analysis to determine what the user is doing. Similarly, metadata adornment might reveal sensitive information; for example the Server Name Indicator (SNI) in the TLS handshake would reveal if a web visitor intends to go to <samp>bannedcontent.github.com</samp> versus <samp>kitties.github.com</samp>.</p><p id="rfc.section.2.1.p.5">Standardizing an extensible transport metadata mechanism could also trigger various jurisdictions to define and require insertion of in-band metadata, an extension of current practices <a href="#AU-data-retention"><cite title="Your guide to the data retention debate: what it is and why it’s bad">[AU-data-retention]</cite></a>. While the IETF would not be directly responsible for such an outcome, it is notable that in the past we’ve explicitly said we won’t serve conceptually similar use cases <a href="#RFC1984"><cite title="IAB and IESG Statement on Cryptographic Technology and the Internet">[RFC1984]</cite></a>.</p></div><div id="network-neutrality"><h2 id="rfc.section.2.2">2.2&nbsp;Network Neutrality</h2><p id="rfc.section.2.2.p.1">There is obvious potential for network neutrality impact from a mechanism that allows networks to communicate with endpoints about flows.</p><p id="rfc.section.2.2.p.2">For example, if a network can instruct content servers to throttle back bandwidth available to users for video based upon a commercial arrangement (or lack thereof), the network can achieve their goals without directly throttling traffic, thereby offering the potential to circumvent a regulatory regime that’s designed to effect network neutrality.</p><p id="rfc.section.2.2.p.3">While the IETF has not take as firm a stance on network neutrality as it has for Pervasive Monitoring (for good reasons, since network neutrality problems are at their heart a sign of market failure, not a technical issue), new metadata facilities that enable existing regulatory regimes – thereby upsetting “the tussle” – must be carefully considered.</p></div></div><div id="possible-mitigations"><h1 id="rfc.section.3">3.&nbsp;Possible Mitigations</h1><div id="constrained-vocabulary"><h2 id="rfc.section.3.1">3.1&nbsp;Constrained Vocabulary</h2><p id="rfc.section.3.1.p.1">Much of the potential for harm above comes about because a transport-level metadata mechanism effectively becomes a side channel for arbitrary data, for use by any node on the path. The risks of questionable use could be mitigated by constraining the data that’s allowed in this side channel.</p><p id="rfc.section.3.1.p.2">In other words, if the network doesn’t have a means of inserting a unique identifier for customers, they won’t be able to do so. If notification of constrained network conditions takes place using well-defined terms, regulatory regimes can be adjusted to achieve desired outcomes. And, information about application semantics can be carefully vetted for security considerations before being included in transport metadata.</p><p id="rfc.section.3.1.p.3">One way to technically enforce such constraints would be to require nodes to silently drop non-standard metadata. Another would be to not make metadata extensible at all.</p><p id="rfc.section.3.1.p.4">Naturally, this would constrain the ability of networks and applications to add new terms to metadata, thereby requiring more careful thought to go into the metadata that is standardised “up front.”</p></div><div id="transparency"><h2 id="rfc.section.3.2">3.2&nbsp;Transparency</h2><p id="rfc.section.3.2.p.1">Many proposals for transport metadata assert that it will be encrypted, to improve security. While well-intentioned, it also creates an opaque side channel with a third party (the first and second being the endpoints).</p><p id="rfc.section.3.2.p.2">The effect of of such designs should be carefully considered before standardisation; it may be that the community is better served by keeping this metadata “in the clear”, albeit possibly with some form of authentication and integrity available (or required).</p></div></div><div id="security-considerations"><h1 id="rfc.section.4">4.&nbsp;Security Considerations</h1><p id="rfc.section.4.p.1">This document describes security and privacy aspects of metadata adornment to internet protocols that protocol designers should consider.</p></div><h1 id="rfc.references"><a href="#rfc.section.5" id="rfc.section.5">5.</a> Informative References</h1><dl class="dl-horizontal"><dt><span id="AU-data-retention">[AU-data-retention]</span></dt><dd>Keane, B., “<a href="http://www.crikey.com.au/2015/03/18/your-guide-to-the-data-retention-debate-what-it-is-and-why-it%E2%80%99s-bad/">Your guide to the data retention debate: what it is and why it’s bad</a>”, March&nbsp;2015, &lt;<a href="http://www.crikey.com.au/2015/03/18/your-guide-to-the-data-retention-debate-what-it-is-and-why-it%E2%80%99s-bad/">http://www.crikey.com.au/2015/03/18/your-guide-to-the-data-retention-debate-what-it-is-and-why-it’s-bad/</a>&gt;.</dd><dt><span id="I-D.hardie-spud-use-cases">[I-D.hardie-spud-use-cases]</span></dt><dd>Hardie, T., “<a href="https://tools.ietf.org/html/draft-hardie-spud-use-cases-01">Use Cases for SPUD</a>”, Internet-Draft&nbsp;draft-hardie-spud-use-cases-01 (work in progress), February&nbsp;2015.</dd><dt><span id="I-D.hildebrand-spud-prototype">[I-D.hildebrand-spud-prototype]</span></dt><dd>Hildebrand, J. and B. Trammell, “<a href="https://tools.ietf.org/html/draft-hildebrand-spud-prototype-03">Substrate Protocol for User Datagrams (SPUD) Prototype</a>”, Internet-Draft&nbsp;draft-hildebrand-spud-prototype-03 (work in progress), March&nbsp;2015.</dd><dt><span id="I-D.nottingham-gin">[I-D.nottingham-gin]</span></dt><dd>Nottingham, M., “<a href="https://tools.ietf.org/html/draft-nottingham-gin-00">Granular Information about Networks</a>”, Internet-Draft&nbsp;draft-nottingham-gin-00 (work in progress), July&nbsp;2014.</dd><dt><span id="I-D.sprecher-mobile-tg-exposure-req-arch">[I-D.sprecher-mobile-tg-exposure-req-arch]</span></dt><dd>Jain, A., Terzis, A., Sprecher, N., Swaminathan, S., Smith, K., and G. Klas, “<a href="https://tools.ietf.org/html/draft-sprecher-mobile-tg-exposure-req-arch-01">Requirements and reference architecture for Mobile Throughput Guidance Exposure</a>”, Internet-Draft&nbsp;draft-sprecher-mobile-tg-exposure-req-arch-01 (work in progress), February&nbsp;2015.</dd><dt><span id="I-D.trammell-stackevo-newtea">[I-D.trammell-stackevo-newtea]</span></dt><dd>Trammell, B., “<a href="https://tools.ietf.org/html/draft-trammell-stackevo-newtea-01">Thoughts a New Transport Encapsulation Architecture</a>”, Internet-Draft&nbsp;draft-trammell-stackevo-newtea-01 (work in progress), May&nbsp;2015.</dd><dt><span id="IAB-confidentiality">[IAB-confidentiality]</span></dt><dd>Internet Architecture Board, “<a href="http://www.iab.org/2014/11/14/iab-statement-on-internet-confidentiality/">IAB Statement on Internet Confidentiality</a>”, November&nbsp;2014, &lt;<a href="http://www.iab.org/2014/11/14/iab-statement-on-internet-confidentiality/">http://www.iab.org/2014/11/14/iab-statement-on-internet-confidentiality/</a>&gt;.</dd><dt><span id="Injection">[Injection]</span></dt><dd>Ammari, N., Björksten, G., Micek, P., and D. Olukotun, “<a href="https://www.accessnow.org/blog/2015/08/17/read-our-new-report-on-the-troubling-rise-of-tracking-headers-worldwide2">The Rise of Mobile Tracking Headers: How Telcos Around the World Are Threatening Your Privacy</a>”, August&nbsp;2015, &lt;<a href="https://www.accessnow.org/blog/2015/08/17/read-our-new-report-on-the-troubling-rise-of-tracking-headers-worldwide2">https://www.accessnow.org/blog/2015/08/17/read-our-new-report-on-the-troubling-rise-of-tracking-headers-worldwide2</a>&gt;.</dd><dt><span id="RFC1984">[RFC1984]</span></dt><dd>IAB and “<a href="http://www.rfc-editor.org/info/rfc1984">IAB and IESG Statement on Cryptographic Technology and the Internet</a>”, RFC&nbsp;1984, DOI&nbsp;10.17487/RFC1984, August&nbsp;1996, &lt;<a href="http://www.rfc-editor.org/info/rfc1984">http://www.rfc-editor.org/info/rfc1984</a>&gt;.</dd><dt><span id="RFC3864">[RFC3864]</span></dt><dd>Klyne, G., Nottingham, M., and J. Mogul, “<a href="http://www.rfc-editor.org/info/rfc3864">Registration Procedures for Message Header Fields</a>”, BCP&nbsp;90, RFC&nbsp;3864, DOI&nbsp;10.17487/RFC3864, September&nbsp;2004, &lt;<a href="http://www.rfc-editor.org/info/rfc3864">http://www.rfc-editor.org/info/rfc3864</a>&gt;.</dd><dt><span id="RFC7230">[RFC7230]</span></dt><dd>Fielding, R., Ed. and J. Reschke, Ed., “<a href="http://www.rfc-editor.org/info/rfc7230">Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</a>”, RFC&nbsp;7230, DOI&nbsp;10.17487/RFC7230, June&nbsp;2014, &lt;<a href="http://www.rfc-editor.org/info/rfc7230">http://www.rfc-editor.org/info/rfc7230</a>&gt;.</dd><dt><span id="RFC7258">[RFC7258]</span></dt><dd>Farrell, S. and H. Tschofenig, “<a href="http://www.rfc-editor.org/info/rfc7258">Pervasive Monitoring Is an Attack</a>”, BCP&nbsp;188, RFC&nbsp;7258, DOI&nbsp;10.17487/RFC7258, May&nbsp;2014, &lt;<a href="http://www.rfc-editor.org/info/rfc7258">http://www.rfc-editor.org/info/rfc7258</a>&gt;.</dd><dt><span id="TAG-securing-web">[TAG-securing-web]</span></dt><dd>W3C Technical Architecture Group, “<a href="http://www.w3.org/2001/tag/doc/web-https">Securing the Web</a>”, January&nbsp;2015, &lt;<a href="http://www.w3.org/2001/tag/doc/web-https">http://www.w3.org/2001/tag/doc/web-https</a>&gt;.</dd><dt><span id="X-UIDH">[X-UIDH]</span></dt><dd>Hoffman-Andrews, J., “<a href="https://www.eff.org/deeplinks/2014/11/verizon-x-uidh">Verizon Injecting Perma-Cookies to Track Mobile Customers, Bypassing Privacy Controls</a>”, November&nbsp;2014, &lt;<a href="https://www.eff.org/deeplinks/2014/11/verizon-x-uidh">https://www.eff.org/deeplinks/2014/11/verizon-x-uidh</a>&gt;.</dd></dl><div class="avoidbreak"><h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1><p><b>Mark Nottingham</b><br>EMail: <a href="mailto:mnot@mnot.net">mnot@mnot.net</a><br>URI: <a href="https://www.mnot.net/">https://www.mnot.net/</a></p><p><b>Joseph Lorenzo Hall</b><br>CDT<br>EMail: <a href="mailto:joe@cdt.org">joe@cdt.org</a><br>URI: <a href="https://cdt.org/">https://cdt.org/</a></p><p><b>Niels ten Oever</b><br>Article19<br>EMail: <a href="mailto:niels@article19.org">niels@article19.org</a><br>URI: <a href="https://www.article19.org/">https://www.article19.org/</a></p><p><b>Wendy Seltzer</b><br>W3C<br>EMail: <a href="mailto:wseltzer@w3.org">wseltzer@w3.org</a><br>URI: <a href="http://wendy.seltzer.org/">http://wendy.seltzer.org/</a></p></div></div></div></div><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><script type="text/javascript">
        /* This is a workaround for https://github.com/twbs/bootstrap/issues/14285 */
        $('.nav a').on('click', function(a) {$(a.target.dataset.target.replace( /(:|\.|\[|\])/g, "\\$1" )).collapse('toggle')})
      </script></body></html>